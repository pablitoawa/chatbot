<div class="chat-container">
  <div class="chat-header">
    <h3>Asistente de Análisis de Plantas de Frijol</h3>
  </div>
  <div class="chat-messages" (dragover)="onDragOver($event)" (dragleave)="onDragLeave($event)" (drop)="onDrop($event)">
    <div *ngFor="let message of messages" class="message" [ngClass]="{'user-message': message.isUser, 'bot-message': !message.isUser}">
      <div class="message-content">{{ message.text }}</div>
    </div>
    <div *ngIf="isDragging" class="file-drop-overlay">
      <i class="fas fa-cloud-upload-alt"></i>
      <p>Suelta el archivo aquí</p>
    </div>
  </div>
  <div class="chat-input">
    <div class="input-area">
      <label for="fileInput" class="file-upload-icon">
        <i class="fas fa-paperclip"></i>
      </label>
      <input type="file" id="fileInput" (change)="onFileSelected($event)" style="display:none;">
      <input type="text" [(ngModel)]="newMessage" placeholder="Escribe un mensaje..." (keyup.enter)="sendMessage()">
      <button (click)="sendMessage()">
        <i class="fas fa-paper-plane"></i>
      </button>
    </div>
    <p *ngIf="selectedFile" class="selected-file">
      <i class="fas fa-file"></i> {{ selectedFile.name }}
    </p>
  </div>
</div>